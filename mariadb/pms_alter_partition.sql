/* PARTITION ALTER START */
/* T_PCS_ANALOG_VALUE, T_BATTERY_ANALOG_VALUE, T_PCS_UNIT, T_BATTERY_UNIT, T_METER_DATA, T_SUBMETER_DATA  */
ALTER TABLE T_PCS_ANALOG_VALUE PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);

ALTER TABLE T_BATTERY_ANALOG_VALUE PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);

ALTER TABLE T_PCS_UNIT PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);

ALTER TABLE T_BATTERY_UNIT PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);

ALTER TABLE T_METER_DATA PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);

ALTER TABLE T_SUBMETER_DATA PARTITION BY RANGE (YEAR(TimeStamp)) (
  PARTITION p2017 VALUES LESS THAN (2018) ENGINE = INNODB,
  PARTITION p2018 VALUES LESS THAN (2019) ENGINE = INNODB,
  PARTITION p2019 VALUES LESS THAN (2020) ENGINE = INNODB,
  PARTITION p2020 VALUES LESS THAN (2021) ENGINE = INNODB,
  PARTITION p2021 VALUES LESS THAN (2022) ENGINE = INNODB,
  PARTITION p2022 VALUES LESS THAN (2023) ENGINE = INNODB,
  PARTITION p2023 VALUES LESS THAN (2024) ENGINE = INNODB,
  PARTITION p2024 VALUES LESS THAN (2025) ENGINE = INNODB,
  PARTITION p2025 VALUES LESS THAN (2026) ENGINE = INNODB,
  PARTITION p2026 VALUES LESS THAN (2027) ENGINE = INNODB,
  PARTITION p2027 VALUES LESS THAN (2028) ENGINE = INNODB,
  PARTITION p2028 VALUES LESS THAN (2029) ENGINE = INNODB,
  PARTITION p2029 VALUES LESS THAN (2030) ENGINE = INNODB,
  PARTITION p2030 VALUES LESS THAN (2031) ENGINE = INNODB,
  PARTITION p2031 VALUES LESS THAN (2032) ENGINE = INNODB,
  PARTITION p2032 VALUES LESS THAN (2033) ENGINE = INNODB,
  PARTITION p2033 VALUES LESS THAN (2034) ENGINE = INNODB,
  PARTITION p2034 VALUES LESS THAN (2035) ENGINE = INNODB,
  PARTITION p2035 VALUES LESS THAN (2036) ENGINE = INNODB,
  PARTITION p2036 VALUES LESS THAN (2037) ENGINE = INNODB,
  PARTITION p2037 VALUES LESS THAN (2038) ENGINE = INNODB,
  PARTITION p2038 VALUES LESS THAN MAXVALUE ENGINE = INNODB
);
/* PARTITION ALTER END */

/* PARTITION CHECK */
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_PCS_ANALOG_VALUE' order by partition_description desc;
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_BATTERY_ANALOG_VALUE' order by partition_description desc;
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_PCS_UNIT' order by partition_description desc;
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_BATTERY_UNIT' order by partition_description desc;
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_METER_DATA' order by partition_description desc;
SELECT * FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME = 'T_SUBMETER_DATA' order by partition_description desc;
/* PARTITION CHECK */
